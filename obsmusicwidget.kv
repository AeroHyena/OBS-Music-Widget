#:kivy 2.1.0
#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import spotify_start config.spotify_start



# Initialize MainDisplay on launch
MainDisplay:




# Here we define the specifics of each screen in our app
# Controller screen
<Controller>:
    name: "controller"

    # Server Controls
    BoxLayout:
        orientation: "vertical"

        # Server status
        BoxLayout:
            orientation: "horizontal"
            height: "40dp"
            Label:
                text: "Server Status:"
            Label:
                id: "server_status"
                text: "offline"
                
        # Controls
        BoxLayout:
            orientation: "horizontal"
            Button:
                id: "start_widget_button"
                text: "Start Widget"
                on_release: root.start()
            Button:
                id: "stop_widget_button"
                text: "Stop Widget"
                on_press: root.stop()
            Button:
                id: "restart_widget_button"
                text: "Restart Widget"
                on_press: root.restart()

        # Account connections
        BoxLayout:
            orientation: "horizontal"
            Button:
                id: "connect_spotify_account"s
                text: "Connect Spotify"
                on_press: spotify_start()


# Customization screen
<Customize>:
    name: "customize"
    Label:
        text: "Customization options go here"


# Guide Screen
<Guide>:
    name: "guide"
    Label:
        text: "Instructions go here"


# Settings screen
<SettingsPage>:
    name: "settings"
    Label:
        text: "Options go here"





# Window manager
<WindowManager>:
    transition: NoTransition()





# Here we define the properties and specifics of the visual components and layout of our app
# The layout is defined by using a MainDisplay for the entire screen
# The main display has a sidebar that is always visible, and a content area with our screen manager.

# Main display area
<MainDisplay@BoxLayout>:
    orientation: "horizontal"

    Sidebar:
        size_hint: None, 1
        width: "300dp"

    ContentArea:
        size_hint: 1, 1


# Sidebar
<Sidebar@BoxLayout>:
    orientation: "vertical"

    # Control interface button
    Button:
        text: "Controller"
        size_hint: 1, None
        height: "80dp"
        on_release: app.root.children[0].children[0].current = "controller"

    # Customizations button
    Button:
        text: "Customization"
        size_hint: 1, None
        height: "80dp"
        on_release: app.root.children[0].children[0].current = "customize"

    # Guide section button
    Button:
        text: "Guide"
        size_hint: 1, None
        height: "80dp"
        on_release: app.root.children[0].children[0].current = "guide"

    # Settings button
    Button:
        text: "Settings"
        size_hint: 1, None
        height: "80dp"
        on_release: app.root.children[0].children[0].current = "settings"


    # Empty widget to fill remaining space
    Widget:


# Content area
<ContentArea@ScrollView>:
    # The window manager is initialized in this area of the layout, along with each individual screen
    WindowManager:
        Controller:
        Customize:
        Guide:
        SettingsPage:

